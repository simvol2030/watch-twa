<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Å—Å—ã</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
				padding: 2rem;
				background: #f5f5f5;
			}

			h1 {
				margin-bottom: 2rem;
				color: #333;
			}

			.form-group {
				margin-bottom: 1.5rem;
			}

			label {
				display: block;
				margin-bottom: 0.5rem;
				font-weight: 600;
				color: #555;
			}

			input,
			select {
				width: 100%;
				padding: 0.75rem;
				font-size: 1rem;
				border: 2px solid #ddd;
				border-radius: 6px;
				outline: none;
			}

			input:focus,
			select:focus {
				border-color: #667eea;
			}

			.checkbox-group {
				display: flex;
				align-items: center;
				gap: 0.5rem;
			}

			.checkbox-group input {
				width: auto;
			}

			.btn {
				padding: 0.75rem 2rem;
				font-size: 1rem;
				font-weight: 600;
				border: none;
				border-radius: 6px;
				cursor: pointer;
				transition: all 0.2s;
			}

			.btn-primary {
				background: #667eea;
				color: white;
			}

			.btn-primary:hover {
				background: #5568d3;
			}

			.btn-secondary {
				background: #6b7280;
				color: white;
			}

			.btn-secondary:hover {
				background: #4b5563;
			}

			.actions {
				display: flex;
				gap: 1rem;
				margin-top: 2rem;
			}

			.info {
				margin-top: 2rem;
				padding: 1rem;
				background: #e0e7ff;
				border-radius: 6px;
				color: #3730a3;
			}
		</style>
	</head>
	<body>
		<h1>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Å—Å—ã</h1>

		<form id="settingsForm">
			<div class="form-group">
				<label for="storeId">–ú–∞–≥–∞–∑–∏–Ω:</label>
				<select id="storeId" required>
					<option value="1">–ú–∞–≥–∞–∑–∏–Ω –Ω–∞ –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥—Å–∫–æ–π</option>
					<option value="2">–ú–∞–≥–∞–∑–∏–Ω –≤ –ê—à—É–∫–∏–Ω–æ</option>
					<option value="3">–ú–∞–≥–∞–∑–∏–Ω –≤ –°–æ—Ñ—Ä–∏–Ω–æ</option>
					<option value="4">–ú–∞–≥–∞–∑–∏–Ω –≤ –ó–∞–≤–µ—Ç–∞—Ö –ò–ª—å–∏—á–∞</option>
					<option value="5">–ú–∞–≥–∞–∑–∏–Ω –≤ –ö–ª—è–∑—å–º–µ</option>
					<option value="6">–ú–∞–≥–∞–∑–∏–Ω –≤ –ó–≤–µ—Ä–æ—Å–æ–≤—Ö–æ–∑–µ</option>
				</select>
			</div>

			<div class="form-group">
				<label for="apiUrl">URL —Å–µ—Ä–≤–µ—Ä–∞:</label>
				<input
					type="url"
					id="apiUrl"
					placeholder="https://murzicoin.murzico.ru"
					required
				/>
			</div>

			<div class="form-group">
				<label class="checkbox-group">
					<input type="checkbox" id="kioskMode" />
					<span>–ö–∏–æ—Å–∫-—Ä–µ–∂–∏–º (–ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –±–µ–∑ –≤—ã—Ö–æ–¥–∞)</span>
				</label>
			</div>

			<div class="form-group">
				<label class="checkbox-group">
					<input type="checkbox" id="autoStart" />
					<span>–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞</span>
				</label>
			</div>

			<div class="actions">
				<button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å</button>
				<button type="button" class="btn btn-secondary" onclick="window.close()">
					–û—Ç–º–µ–Ω–∞
				</button>
			</div>
		</form>

		<div class="info">
			<strong>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong><br />
			–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ.<br />
			–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∫–∞–Ω–µ—Ä–∞ QR-–∫–æ–¥–æ–≤ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ.
		</div>

		<script>
			// –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
			window.electronAPI.getConfig().then((config) => {
				document.getElementById('storeId').value = config.storeId;
				document.getElementById('apiUrl').value = config.apiUrl;
				document.getElementById('kioskMode').checked = config.kioskMode;
				document.getElementById('autoStart').checked = config.autoStart;
			});

			// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
			document.getElementById('settingsForm').addEventListener('submit', async (e) => {
				e.preventDefault();

				const config = {
					storeId: parseInt(document.getElementById('storeId').value),
					apiUrl: document.getElementById('apiUrl').value.trim(),
					kioskMode: document.getElementById('kioskMode').checked,
					autoStart: document.getElementById('autoStart').checked
				};

				await window.electronAPI.saveConfig(config);
				await window.electronAPI.restartApp();
			});
		</script>
	</body>
</html>
